-- ================================================
-- CUSTOM UI LIBRARY 2025 - 100% BUATAN SENDIRI
-- Dibuat khusus untuk kamu, tanpa template luar
-- ================================================

local UIS = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")
local CoreGui = game:GetService("CoreGui")

-- Main Container
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "CustomUILib"
ScreenGui.ResetOnSpawn = false
ScreenGui.Parent = CoreGui

local Main = Instance.new("Frame")
Main.Size = UDim2.new(0, 650, 0, 500)
Main.Position = UDim2.new(0.5, -325, 0.5, -250)
Main.BackgroundColor3 = Color3.fromRGB(25, 25, 30)
Main.BorderSizePixel = 0
Main.Active = true
Main.Draggable = true
Main.Parent = ScreenGui

-- Corner & Stroke
local Corner = Instance.new("UICorner", Main)
Corner.CornerRadius = UDim.new(0, 12)

local Stroke = Instance.new("UIStroke", Main)
Stroke.Color = Color3.fromRGB(80, 80, 255)
Stroke.Thickness = 2

-- Title Bar
local TitleBar = Instance.new("Frame")
TitleBar.Size = UDim2.new(1, 0, 0, 50)
TitleBar.BackgroundColor3 = Color3.fromRGB(30, 30, 35)
TitleBar.Parent = Main

local TitleCorner = Instance.new("UICorner", TitleBar)
TitleCorner.CornerRadius = UDim.new(0, 12)

local Title = Instance.new("TextLabel")
Title.Size = UDim2.new(1, -100, 1, 0)
Title.Position = UDim2.new(0, 15, 0, 0)
Title.BackgroundTransparency = 1
Title.Text = "My Custom UI Library 2025"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.Font = Enum.Font.GothamBold
Title.TextSize = 18
Title.TextXAlignment = Enum.TextXAlignment.Left
Title.Parent = TitleBar

-- Minimize Button
local Minimize = Instance.new("TextButton")
Minimize.Size = UDim2.new(0, 40, 0, 40)
Minimize.Position = UDim2.new(1, -50, 0, 5)
Minimize.BackgroundTransparency = 1
Minimize.Text = "â€”"
Minimize.TextColor3 = Color3.fromRGB(255, 255, 255)
Minimize.Font = Enum.Font.GothamBold
Minimize.TextSize = 30
Minimize.Parent = TitleBar

local minimized = false
Minimize.MouseButton1Click:Connect(function()
    minimized = not minimized
    TweenService:Create(Main, TweenInfo.new(0.3), {Size = minimized and UDim2.new(0,650,0,50) or UDim2.new(0,650,0,500)}):Play()
end)

-- Tab Container
local TabContainer = Instance.new("Frame")
TabContainer.Size = UDim2.new(0, 140, 1, -50)
TabContainer.Position = UDim2.new(0, 0, 0, 50)
TabContainer.BackgroundColor3 = Color3.fromRGB(20, 20, 25)
TabContainer.Parent = Main

local TabLayout = Instance.new("UIListLayout", TabContainer)
TabLayout.Padding = UDim.new(0, 4)
TabLayout.SortOrder = Enum.SortOrder.LayoutOrder

-- Content Area
local Content = Instance.new("Frame")
Content.Size = UDim2.new(1, -140, 1, -50)
Content.Position = UDim2.new(0, 140, 0, 50)
Content.BackgroundTransparency = 1
Content.Parent = Main

-- Library Table
local Library = {}
local Tabs = {}
local CurrentTab = nil

-- Tab Function
function Library:CreateTab(name)
    local TabButton = Instance.new("TextButton")
    TabButton.Size = UDim2.new(1, -10, 0, 40)
    TabButton.BackgroundColor3 = Color3.fromRGB(35, 35, 40)
    TabButton.Text = "  " .. name
    TabButton.TextColor3 = Color3.fromRGB(200, 200, 200)
    TabButton.Font = Enum.Font.Gotham
    TabButton.TextXAlignment = Enum.TextXAlignment.Left
    TabButton.Parent = TabContainer

    local TabContent = Instance.new("ScrollingFrame")
    TabContent.Size = UDim2.new(1, -20, 1, -20)
    TabContent.Position = UDim2.new(0, 10, 0, 10)
    TabContent.BackgroundTransparency = 1
    TabContent.ScrollBarThickness = 4
    TabContent.Visible = false
    TabContent.CanvasSize = UDim2.new(0,0,0,0)
    TabContent.AutomaticCanvasSize = Enum.AutomaticSize.Y
    TabContent.Parent = Content

    local TabLayout = Instance.new("UIListLayout", TabContent)
    TabLayout.Padding = UDim.new(0, 8)
    TabLayout.SortOrder = Enum.SortOrder.LayoutOrder

    local Padding = Instance.new("UIPadding", TabContent)
    Padding.PaddingLeft = UDim.new(0, 8)
    Padding.PaddingRight = UDim.new(0, 8)
    Padding.PaddingTop = UDim.new(0, 8)

    TabButton.MouseButton1Click:Connect(function()
        for _, v in pairs(Content:GetChildren()) do
            if v:IsA("ScrollingFrame") then v.Visible = false end
        end
        TabContent.Visible = true
        CurrentTab = TabContent

        -- Highlight selected tab
        for _, btn in pairs(TabContainer:GetChildren()) do
            if btn:IsA("TextButton") then
                TweenService:Create(btn, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(35,35,40)}):Play()
            end
        end
        TweenService:Create(TabButton, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(80,80,255)}):Play()
    end)

    -- Auto open first tab
    if #Tabs == 0 then
        TabButton.MouseButton1Click:Fire()
    end

    local Tab = {}
    table.insert(Tabs, Tab)

    -- Section
    function Tab:Section(title)
        local Section = Instance.new("Frame")
        Section.Size = UDim2.new(1, 0, 0, 30)
        Section.BackgroundColor3 = Color3.fromRGB(35, 35, 40)
        Section.Parent = TabContent

        local SectionTitle = Instance.new("TextLabel")
        SectionTitle.Size = UDim2.new(1, -10, 1, 0)
        SectionTitle.Position = UDim2.new(0, 10, 0, 0)
        SectionTitle.BackgroundTransparency = 1
        SectionTitle.Text = title
        SectionTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
        SectionTitle.Font = Enum.Font.GothamBold
        SectionTitle.TextSize = 16
        SectionTitle.TextXAlignment = Enum.TextXAlignment.Left
        SectionTitle.Parent = Section

        local SectionCorner = Instance.new("UICorner", Section)
        SectionCorner.CornerRadius = UDim.new(0, 8)

        local SectionContent = Instance.new("Frame")
        SectionContent.Size = UDim2.new(1, 0, 0, 0)
        SectionContent.Position = UDim2.new(0, 0, 1, 5)
        SectionContent.BackgroundTransparency = 1
        SectionContent.AutomaticSize = Enum.AutomaticSize.Y
        SectionContent.Parent = Section

        local ContentLayout = Instance.new("UIListLayout", SectionContent)
        ContentLayout.Padding = UDim.new(0, 6)

        local SectionLib = {}

        -- Button
        function SectionLib:Button(text, callback)
            local Button = Instance.new("TextButton")
            Button.Size = UDim2.new(1, 0, 0, 36)
            Button.BackgroundColor3 = Color3.fromRGB(55, 55, 70)
            Button.Text = text
            Button.TextColor3 = Color3.fromRGB(255, 255, 255)
            Button.Font = Enum.Font.Gotham
            Button.Parent = SectionContent

            local BtnCorner = Instance.new("UICorner", Button)
            BtnCorner.CornerRadius = UDim.new(0, 8)

            Button.MouseButton1Click:Connect(callback or function() end)
            Button.MouseEnter:Connect(function() TweenService:Create(Button, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(80,80,255)}):Play() end)
            Button.MouseLeave:Connect(function() TweenService:Create(Button, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(55,55,70)}):Play() end)
        end

        -- Toggle
        function SectionLib:Toggle(text, default, callback)
            local Toggle = Instance.new("Frame")
            Toggle.Size = UDim2.new(1, 0, 0, 36)
            Toggle.BackgroundColor3 = Color3.fromRGB(55, 55, 70)
            Toggle.Parent = SectionContent

            local ToggleCorner = Instance.new("UICorner", Toggle)
            ToggleCorner.CornerRadius = UDim.new(0, 8)

            local ToggleText = Instance.new("TextLabel")
            ToggleText.Size = UDim2.new(1, -60, 1, 0)
            ToggleText.BackgroundTransparency = 1
            ToggleText.Text = text
            ToggleText.TextColor3 = Color3.fromRGB(255, 255, 255)
            ToggleText.Font = Enum.Font.Gotham
            ToggleText.TextXAlignment = Enum.TextXAlignment.Left
            ToggleText.Position = UDim2.new(0, 10, 0, 0)
            ToggleText.Parent = Toggle

            local ToggleBox = Instance.new("Frame")
            ToggleBox.Size = UDim2.new(0, 40, 0, 20)
            ToggleBox.Position = UDim2.new(1, -50, 0.5, -10)
            ToggleBox.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
            ToggleBox.Parent = Toggle

            local BoxCorner = Instance.new("UICorner", ToggleBox)
            BoxCorner.CornerRadius = UDim.new(0, 10)

            local Check = Instance.new("Frame")
            Check.Size = UDim2.new(0, 16, 0, 16)
            Check.Position = UDim2.new(0, 2, 0.5, -8)
            Check.BackgroundColor3 = Color3.fromRGB(80, 80, 255)
            Check.Visible = default or false
            Check.Parent = ToggleBox

            local CheckCorner = Instance.new("UICorner", Check)
            CheckCorner.CornerRadius = UDim.new(0, 6)

            Toggle.MouseButton1Click:Connect(function()
                Check.Visible = not Check.Visible
                if callback then callback(Check.Visible) end
            end)
        end

        -- Slider
        function SectionLib:Slider(text, min, max, default, callback)
            local Slider = Instance.new("Frame")
            Slider.Size = UDim2.new(1, 0, 0, 50)
            Slider.BackgroundColor3 = Color3.fromRGB(55, 55, 70)
            Slider.Parent = SectionContent

            local SliderCorner = Instance.new("UICorner", Slider)
            SliderCorner.CornerRadius = UDim.new(0, 8)

            local SliderText = Instance.new("TextLabel")
            SliderText.Size = UDim2.new(1, -10, 0, 25)
            SliderText.Position = UDim2.new(0, 10, 0, 0)
            SliderText.BackgroundTransparency = 1
            SliderText.Text = text .. ": " .. (default or min)
            SliderText.TextColor3 = Color3.fromRGB(255, 255, 255)
            SliderText.Font = Enum.Font.Gotham
            SliderText.TextXAlignment = Enum.TextXAlignment.Left
            SliderText.Parent = Slider

            local SliderBar = Instance.new("Frame")
            SliderBar.Size = UDim2.new(1, -20, 0, 10)
            SliderBar.Position = UDim2.new(0, 10, 0, 30)
            SliderBar.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
            SliderBar.Parent = Slider

            local Fill = Instance.new("Frame")
            Fill.Size = UDim2.new((default or min)/max, 0, 1, 0)
            Fill.BackgroundColor3 = Color3.fromRGB(80, 80, 255)
            Fill.Parent = SliderBar

            local FillCorner = Instance.new("UICorner", Fill)
            FillCorner.CornerRadius = UDim.new(0, 5)

            local dragging = false
            SliderBar.InputBegan:Connect(function(input)
                if input.UserInputType == Enum.UserInputType.MouseButton1 then
                    dragging = true
                end
            end)
            SliderBar.InputEnded:Connect(function(input)
                if input.UserInputType == Enum.UserInputType.MouseButton1 then
                    dragging = false
                end
            end)

            UIS.InputChanged:Connect(function(input)
                if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
                    local percent = math.clamp((input.Position.X - SliderBar.AbsolutePosition.X) / SliderBar.AbsoluteSize.X, 0, 1)
                    local value = math.floor(min + (max - min) * percent)
                    Fill.Size = UDim2.new(percent, 0, 1, 0)
                    SliderText.Text = text .. ": " .. value
                    if callback then callback(value) end
                end
            end)
        end

        -- Notification
        function Library:Notify(text, duration)
            local Notif = Instance.new("Frame")
            Notif.Size = UDim2.new(0, 300, 0, 80)
            Notif.Position = UDim2.new(1, -320, 1, -100)
            Notif.BackgroundColor3 = Color3.fromRGB(30, 30, 35)
            Notif.Parent = ScreenGui

            local NotifCorner = Instance.new("UICorner", Notif)
            NotifCorner.CornerRadius = UDim.new(0, 12)

            local NotifText = Instance.new("TextLabel")
            NotifText.Size = UDim2.new(1, -20, 1, 0)
            NotifText.Position = UDim2.new(0, 10, 0, 0)
            NotifText.BackgroundTransparency = 1
            NotifText.Text = text
            NotifText.TextColor3 = Color3.fromRGB(255, 255, 255)
            NotifText.Font = Enum.Font.Gotham
            NotifText.TextWrapped = true
            NotifText.Parent = Notif

            TweenService:Create(Notif, TweenInfo.new(0.5), {Position = UDim2.new(1, -320, 1, -100)}):Play()
            wait(duration or 3)
            TweenService:Create(Notif, TweenInfo.new(0.5), {Position = UDim2.new(1, 10, 1, -100)}):Play()
            wait(0.5)
            Notif:Destroy()
        end

        return SectionLib
    end

    return Tab
end

-- Return Library
return Library
